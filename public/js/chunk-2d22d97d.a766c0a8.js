(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d97d"],{f7c9:function(e,t,i){"use strict";i.r(t);var d=i("7496"),s=i("8336"),a=i("b0af"),o=i("99d9"),l=i("62ad"),n=i("a523"),r=i("169a"),c=i("ce7e"),m=i("0789"),u=i("132d"),h=i("adda"),I=i("0fd9"),g=i("2fa4"),x=i("8654"),p=function(){var e=this,t=e._self._c;return t(d["a"],[t(r["a"],{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:d}){return[t(s["a"],e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",d,!1),i),[e._v(" New Add ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(a["a"],[t(o["d"],[t("span",{staticClass:"text-h5"},[e._v("New Add")])]),t(o["c"],[t(n["a"],[t(I["a"],[t(l["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[t(x["a"],{attrs:{label:"title"},model:{value:e.editedItem.title,callback:function(t){e.$set(e.editedItem,"title",t)},expression:"editedItem.title"}})],1),t(l["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[t(x["a"],{attrs:{label:"description"},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1),t(l["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[t(x["a"],{attrs:{label:"discount"},model:{value:e.editedItem.discount,callback:function(t){e.$set(e.editedItem,"discount",t)},expression:"editedItem.discount"}})],1),t(l["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[t(x["a"],{attrs:{label:"urlToImage"},model:{value:e.editedItem.urlToImage,callback:function(t){e.$set(e.editedItem,"urlToImage",t)},expression:"editedItem.urlToImage"}})],1)],1)],1)],1),t(o["a"],[t(g["a"]),t(s["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),t(s["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),t(r["a"],{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(a["a"],[t(o["d"],{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),t(o["a"],[t(g["a"]),t(s["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),t(s["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),t(g["a"])],1)],1)],1),t(n["a"],[t(I["a"],e._l(e.adds,(function(i){return t(l["a"],{key:i.id,attrs:{cols:"12",sm:"6",md:"4"}},[t(a["a"],{staticClass:"mx-auto",attrs:{"max-width":"344"}},[t(h["a"],{staticClass:"white--text align-end",attrs:{src:i.urlToImage,height:"200",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"}},[t(o["d"],[e._v(e._s(i.title))])],1),t(o["a"],[t(s["a"],{attrs:{color:"orange lighten-2",text:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" Edit ")]),t(s["a"],{attrs:{color:"orange lighten-2",text:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" Delete ")]),t(g["a"]),t(s["a"],{attrs:{icon:""},on:{click:function(t){return e.showInfCard(i.id)}}},[t(u["a"],[e._v(e._s(e.showAux==i.id||1==e.showAux&&0==i.id?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1),t(m["a"],[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showAux==i.id||1==e.showAux&&0==i.id,expression:"showAux==add.id || (showAux==1&&add.id==0)"}]},[t(c["a"]),t(o["c"],{staticStyle:{"text-align":"left"},attrs:{overline:""}},[e._v(" dateTime: "+e._s(i.dateTime)+" "),t("br"),e._v(" title: "+e._s(i.title)+" "),t("br"),e._v(" description: "+e._s(i.description)+" "),t("br"),e._v(" discount: "+e._s(i.discount)+" "),t("br"),e._v(" promoted: "+e._s(i.promoted)+" "),t("br")])],1)])],1)],1)})),1)],1)],1)},v=[],w=i("5656"),b=i("1fe3"),f={name:"viewMyAds",data:()=>({dialog:!1,show:-1,showAux:-1,dialogDelete:!1,headers:[{text:"id",align:"start",sortable:!1,value:"id"},{text:"title",value:"title"},{text:"description",value:"description"},{text:"discount",value:"discount"},{text:"urlToImage",value:"urlToImage"}],adds:[],auxAdds:[],desserts:[],editedIndex:-1,editedItem:{id:"",userId:b["a"].getCurrentUser(),dateTime:"",title:"",description:"",discount:"",urlToImage:"",promoted:!1},defaultItem:{id:"",userId:b["a"].getCurrentUser(),dateTime:"",title:"",description:"",discount:"",urlToImage:"",promoted:!1}}),computed:{formTitle(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize()},methods:{getAdds(){w["a"].getAllByUserId(b["a"].getCurrentUser()).then(e=>{this.adds=e.data})},initialize(){this.getAdds()},editItem(e){this.editedIndex=this.adds.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedIndex=this.adds.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){w["a"].DeleteAd(this.adds[this.editedIndex].id),this.adds.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},save(){this.editedIndex>-1?(Object.assign(this.adds[this.editedIndex],this.editedItem),console.log(this.editedItem),w["a"].UpdateAd(this.editedItem.id,{id:this.editedItem.id,userId:b["a"].currentUser,dateTime:this.editedItem.dateTime,title:this.editedItem.title,description:this.editedItem.description,discount:this.editedItem.discount,urlToImage:this.editedItem.urlToImage,promoted:this.editedItem.promoted})):(this.editedItem.discount>0&&(this.editedItem.promoted=!0),this.editedItem.dateTime=`${(new Date).getFullYear()}/${(new Date).getMonth()+1}/${(new Date).getDay()} ${(new Date).getHours()}:${(new Date).getMinutes()}`,w["a"].postNewAd(this.editedItem).then(this.getAdds)),this.close()},showInfCard(e){this.showAux=0!==e?-e*this.show:-this.show,console.log(this.showAux),this.show=-this.show}}},_=f,k=i("2877"),A=Object(k["a"])(_,p,v,!1,null,"5e8a606e",null);t["default"]=A.exports}}]);
//# sourceMappingURL=chunk-2d22d97d.a766c0a8.js.map