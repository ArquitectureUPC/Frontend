{"version":3,"sources":["webpack:///./src/components/viewMyAds.vue","webpack:///src/components/viewMyAds.vue","webpack:///./src/components/viewMyAds.vue?ded9","webpack:///./src/components/viewMyAds.vue?53dc"],"names":["model","expression","staticClass","_v","value","editedItem","_vm","attrs","_c","description","callback","$$v","$set","discount","urlToImage","close","dialogDelete","on","closeDelete","add","deleteItem","directives","rawName","staticStyle","staticRenderFns","name","data","dialog","show","showAux","headers","text","align","sortable","adds","auxAdds","desserts","editedIndex","id","userId","dateTime","title","promoted","defaultItem","computed","formTitle","watch","val","created","methods","getAdds","AddServices","response","initialize","editItem","deleteItemConfirm","save","Object","console","showInfCard","component"],"mappings":"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","file":"js/chunk-2d22d97d.a766c0a8.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" New Add \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(\"New Add\")])]),_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"title\"},model:{value:(_vm.editedItem.title),callback:function ($$v) {_vm.$set(_vm.editedItem, \"title\", $$v)},expression:\"editedItem.title\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"description\"},model:{value:(_vm.editedItem.description),callback:function ($$v) {_vm.$set(_vm.editedItem, \"description\", $$v)},expression:\"editedItem.description\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"discount\"},model:{value:(_vm.editedItem.discount),callback:function ($$v) {_vm.$set(_vm.editedItem, \"discount\", $$v)},expression:\"editedItem.discount\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"urlToImage\"},model:{value:(_vm.editedItem.urlToImage),callback:function ($$v) {_vm.$set(_vm.editedItem, \"urlToImage\", $$v)},expression:\"editedItem.urlToImage\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\" Save \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"Are you sure you want to delete this item?\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"OK\")]),_c('v-spacer')],1)],1)],1),_c('v-container',[_c('v-row',_vm._l((_vm.adds),function(add){return _c('v-col',{key:add.id,attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"344\"}},[_c('v-img',{staticClass:\"white--text align-end\",attrs:{\"src\":add.urlToImage,\"height\":\"200\",\"gradient\":\"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)\"}},[_c('v-card-title',[_vm._v(_vm._s(add.title))])],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"orange lighten-2\",\"text\":\"\"},on:{\"click\":function($event){return _vm.editItem(add)}}},[_vm._v(\" Edit \")]),_c('v-btn',{attrs:{\"color\":\"orange lighten-2\",\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(add)}}},[_vm._v(\" Delete \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.showInfCard(add.id)}}},[_c('v-icon',[_vm._v(_vm._s(_vm.showAux==add.id || (_vm.showAux==1&&add.id==0) ? 'mdi-chevron-up' : 'mdi-chevron-down'))])],1)],1),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAux==add.id || (_vm.showAux==1&&add.id==0)),expression:\"showAux==add.id || (showAux==1&&add.id==0)\"}]},[_c('v-divider'),_c('v-card-text',{staticStyle:{\"text-align\":\"left\"},attrs:{\"overline\":\"\"}},[_vm._v(\" dateTime: \"+_vm._s(add.dateTime)+\" \"),_c('br'),_vm._v(\" title: \"+_vm._s(add.title)+\" \"),_c('br'),_vm._v(\" description: \"+_vm._s(add.description)+\" \"),_c('br'),_vm._v(\" discount: \"+_vm._s(add.discount)+\" \"),_c('br'),_vm._v(\" promoted: \"+_vm._s(add.promoted)+\" \"),_c('br')])],1)])],1)],1)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app>\r\n    <v-dialog\r\n        v-model=\"dialog\"\r\n        max-width=\"500px\"\r\n    >\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n        <v-btn\r\n            color=\"primary\"\r\n            dark\r\n            class=\"mb-2\"\r\n            v-bind=\"attrs\"\r\n            v-on=\"on\"\r\n        >\r\n          New Add\r\n        </v-btn>\r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title>\r\n          <span class=\"text-h5\">New Add</span>\r\n        </v-card-title>\r\n\r\n        <v-card-text>\r\n          <v-container>\r\n            <v-row>\r\n\r\n              <v-col\r\n                  cols=\"12\"\r\n                  sm=\"6\"\r\n                  md=\"4\"\r\n              >\r\n                <v-text-field\r\n                    v-model=\"editedItem.title\"\r\n                    label=\"title\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col\r\n                  cols=\"12\"\r\n                  sm=\"6\"\r\n                  md=\"4\"\r\n              >\r\n                <v-text-field\r\n                    v-model=\"editedItem.description\"\r\n                    label=\"description\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col\r\n                  cols=\"12\"\r\n                  sm=\"6\"\r\n                  md=\"4\"\r\n              >\r\n                <v-text-field\r\n                    v-model=\"editedItem.discount\"\r\n                    label=\"discount\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col\r\n                  cols=\"12\"\r\n                  sm=\"6\"\r\n                  md=\"4\"\r\n              >\r\n                <v-text-field\r\n                    v-model=\"editedItem.urlToImage\"\r\n                    label=\"urlToImage\"\r\n                ></v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n          </v-container>\r\n        </v-card-text>\r\n\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn\r\n              color=\"blue darken-1\"\r\n              text\r\n              @click=\"close\"\r\n          >\r\n            Cancel\r\n          </v-btn>\r\n          <v-btn\r\n              color=\"blue darken-1\"\r\n              text\r\n              @click=\"save\"\r\n          >\r\n            Save\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n\r\n    </v-dialog>\r\n\r\n\r\n    <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\r\n      <v-card>\r\n        <v-card-title class=\"text-h5\">Are you sure you want to delete this item?</v-card-title>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">Cancel</v-btn>\r\n          <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\">OK</v-btn>\r\n          <v-spacer></v-spacer>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n\r\n    <v-container >\r\n      <v-row >\r\n        <v-col\r\n            v-for=\"add in adds\"\r\n            :key=\"add.id\"\r\n            cols=\"12\"\r\n            sm=\"6\"\r\n            md=\"4\"\r\n        >\r\n\r\n          <v-card\r\n              class=\"mx-auto\"\r\n              max-width=\"344\"\r\n          >\r\n\r\n\r\n            <v-img\r\n                :src=\"add.urlToImage\"\r\n                class=\"white--text align-end\"\r\n                height=\"200\"\r\n                gradient=\"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)\"\r\n            >\r\n              <v-card-title>{{add.title}}</v-card-title>\r\n            </v-img>\r\n\r\n\r\n            <v-card-actions>\r\n              <v-btn\r\n                  color=\"orange lighten-2\"\r\n                  text\r\n                  @click=\"editItem(add)\"\r\n              >\r\n                Edit\r\n              </v-btn>\r\n\r\n              <v-btn\r\n                  color=\"orange lighten-2\"\r\n                  text\r\n                  @click=\"deleteItem(add)\"\r\n              >\r\n                Delete\r\n              </v-btn>\r\n              <v-spacer></v-spacer>\r\n\r\n              <v-btn\r\n                  icon\r\n                  @click=\" showInfCard(add.id)\"\r\n              >\r\n                <v-icon>{{ showAux==add.id || (showAux==1&&add.id==0) ? 'mdi-chevron-up' : 'mdi-chevron-down' }}</v-icon>\r\n              </v-btn>\r\n            </v-card-actions>\r\n\r\n            <v-expand-transition>\r\n              <div v-show=\"showAux==add.id || (showAux==1&&add.id==0)\">\r\n                <v-divider></v-divider>\r\n\r\n\r\n                <v-card-text overline style=\"text-align:left\" >\r\n                  dateTime: {{add.dateTime}} <br/>\r\n                  title: {{add.title}} <br/>\r\n                  description: {{add.description}} <br/>\r\n                  discount: {{add.discount}} <br/>\r\n                  promoted: {{add.promoted}} <br/>\r\n                </v-card-text>\r\n\r\n              </div>\r\n            </v-expand-transition>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n\r\n  </v-app>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\nimport AddServices from \"../core/services/ad.service\"\r\nimport UserService from \"@/core/services/users.service\";\r\n\r\nexport default {\r\n  name: \"viewMyAds\",\r\n  data: () => ({\r\n    dialog: false,\r\n    show: -1,\r\n    showAux: -1,\r\n    dialogDelete: false,\r\n    headers: [\r\n      {\r\n        text: 'id',\r\n        align: 'start',\r\n        sortable: false,\r\n        value: 'id',\r\n      },\r\n      { text: 'title', value: 'title' },\r\n      { text: 'description', value: 'description' },\r\n      { text: 'discount', value: 'discount' },\r\n      { text: 'urlToImage', value: 'urlToImage' },\r\n    ],\r\n    adds:[],\r\n    auxAdds:[],\r\n    desserts: [],\r\n    editedIndex: -1,\r\n    editedItem: {\r\n      id: '',\r\n      userId: UserService.getCurrentUser(),\r\n      dateTime: '',\r\n      title: '',\r\n      description: '',\r\n      discount: '',\r\n      urlToImage: '',\r\n      promoted: false\r\n    },\r\n    defaultItem: {\r\n      id: '',\r\n      userId: UserService.getCurrentUser(),\r\n      dateTime: '',\r\n      title: '',\r\n      description: '',\r\n      discount: '',\r\n      urlToImage: '',\r\n      promoted: false\r\n    },\r\n  }),\r\n\r\n  computed: {\r\n    formTitle () {\r\n      return this.editedIndex === -1 ? 'New Item' : 'Edit Item'\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    dialog (val) {\r\n      val || this.close()\r\n    },\r\n    dialogDelete (val) {\r\n      val || this.closeDelete()\r\n    },\r\n  },\r\n\r\n  created () {\r\n    this.initialize()\r\n  },\r\n\r\n  methods: {\r\n    getAdds(){\r\n      AddServices.getAllByUserId(UserService.getCurrentUser()).then(\r\n          response =>{\r\n            this.adds=response.data;\r\n          }\r\n      )\r\n    },\r\n    initialize () {\r\n      this.getAdds();\r\n    },\r\n\r\n    editItem (item) {\r\n      this.editedIndex = this.adds.indexOf(item)\r\n      this.editedItem = Object.assign({}, item)\r\n      this.dialog = true\r\n    },\r\n\r\n    deleteItem (item) {\r\n      this.editedIndex = this.adds.indexOf(item)\r\n      this.editedItem = Object.assign({}, item)\r\n      this.dialogDelete = true\r\n    },\r\n\r\n    deleteItemConfirm () {\r\n      AddServices.DeleteAd(this.adds[this.editedIndex].id)\r\n      this.adds.splice(this.editedIndex, 1)\r\n      this.closeDelete()\r\n    },\r\n    close () {\r\n      this.dialog = false\r\n      this.$nextTick(() => {\r\n        this.editedItem = Object.assign({}, this.defaultItem)\r\n        this.editedIndex = -1\r\n      })\r\n    },\r\n\r\n    closeDelete () {\r\n      this.dialogDelete = false\r\n      this.$nextTick(() => {\r\n        this.editedItem = Object.assign({}, this.defaultItem)\r\n        this.editedIndex = -1\r\n      })\r\n    },\r\n\r\n    save () {\r\n      if (this.editedIndex > -1) {\r\n        Object.assign(this.adds[this.editedIndex], this.editedItem)\r\n        console.log(this.editedItem);\r\n\r\n        AddServices.UpdateAd(this.editedItem.id,{\r\n          id: this.editedItem.id,\r\n          userId: UserService.currentUser,\r\n          dateTime: this.editedItem.dateTime,\r\n          title: this.editedItem.title,\r\n          description: this.editedItem.description,\r\n          discount: this.editedItem.discount,\r\n          urlToImage: this.editedItem.urlToImage,\r\n          promoted: this.editedItem.promoted,\r\n        })\r\n      } else {\r\n\r\n        if(this.editedItem.discount>0){\r\n          this.editedItem.promoted=true;\r\n        }\r\n\r\n        this.editedItem.dateTime=`${(new Date()).getFullYear()}/${(new Date()).getMonth()+1}/${(new Date()).getDay()} ${(new Date()).getHours()}:${(new Date()).getMinutes()}` ;\r\n        AddServices.postNewAd(this.editedItem).then(\r\n            this.getAdds\r\n        );\r\n\r\n      }\r\n\r\n      this.close()\r\n    },\r\n    showInfCard(id){\r\n\r\n      if(id!==0){\r\n        this.showAux=-id*this.show;\r\n      }\r\n      else{\r\n        this.showAux= -this.show;\r\n      }\r\n      console.log(this.showAux)\r\n      this.show=-this.show;\r\n\r\n    }\r\n\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viewMyAds.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viewMyAds.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./viewMyAds.vue?vue&type=template&id=5e8a606e&scoped=true&\"\nimport script from \"./viewMyAds.vue?vue&type=script&lang=js&\"\nexport * from \"./viewMyAds.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e8a606e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}